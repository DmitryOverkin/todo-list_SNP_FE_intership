(()=>{const e=document.querySelector(".todo__input"),t=document.querySelector(".todo__list"),c=document.querySelector(".todo__counter"),o=document.querySelector(".todo__toggle-all"),n=document.querySelector(".todo__actions"),l=document.querySelector(".todo__btn--clear"),d=document.querySelector(".todo__btn--all"),r=document.querySelector(".todo__btn--active"),i=document.querySelector(".todo__btn--completed");let a=k()?k():[],s="all";function u(e){let t=JSON.stringify(e);localStorage.setItem("todos",t)}function k(){let e=localStorage.getItem("todos");return JSON.parse(e)}function m(){t.innerHTML="",("active"===s?a.filter(e=>!1===e.checked):"completed"===s?a.filter(e=>!0===e.checked):a).forEach((e,c)=>{let o=document.createElement("li");o.className="todo__item",e.checked&&o.classList.add("checked"),o.textContent=e.text,o.addEventListener("click",()=>{e.checked=!e.checked,u(a),m()});let n=document.createElement("span");n.textContent="Ã—",n.className="delete__item",n.addEventListener("click",()=>{a.splice(c,1),u(a),m()}),o.appendChild(n),t.appendChild(o)}),a.length>=1?(_(o,"block"),_(n,"flex")):(h(o,"block"),h(n,"flex")),isShow=a.some(e=>!0===e.checked),isShow?_(l,"block"):h(l,"block"),function(){let e=a.filter(e=>!0!==e.checked).length;c.textContent=e}()}function _(e,t){e.classList.add(`${t}`)}function h(e,t){e.classList.remove(`${t}`)}e.addEventListener("keydown",e=>{if("Enter"===e.key){if(""==e.target.value.trim())return;a.push({text:e.target.value,checked:!1}),u(a),m(),e.target.value=""}}),o.addEventListener("click",function(){const e=a.every(e=>!0===e.checked);var t;t=!e,a.forEach(e=>{e.checked=t}),u(a),m()}),l.addEventListener("click",()=>{a=a.filter(e=>!1===e.checked),u(a),m()}),d.addEventListener("click",()=>{s="all",m()}),r.addEventListener("click",()=>{s="active",m()}),i.addEventListener("click",()=>{s="completed",m()}),m()})();