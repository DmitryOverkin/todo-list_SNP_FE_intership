(()=>{const e=document.querySelector(".todo__input"),t=document.querySelector(".todo__list"),c=document.querySelector(".todo__counter"),n=document.querySelector(".todo__toggle-all");let o=d()?d():[];function l(e){console.log("Оно рабоатет!");let t=JSON.stringify(e);localStorage.setItem("todos",t)}function d(){let e=localStorage.getItem("todos");return JSON.parse(e)}function a(){t.innerHTML="",o.forEach((e,c)=>{let n=document.createElement("li");n.className="todo__item",e.checked&&n.classList.add("checked"),n.textContent=e.text,n.addEventListener("click",()=>{e.checked=!e.checked,l(o),a()});let d=document.createElement("span");d.textContent="×",d.className="delete__item",d.addEventListener("click",()=>{o.splice(c,1),l(o),a()}),n.appendChild(d),t.appendChild(n)}),o.length>=1?n.classList.add("visible"):n.classList.remove("visible"),function(){let e=o.filter(e=>!0!==e.checked).length;c.textContent=e}()}e.addEventListener("keydown",e=>{"Enter"===e.key&&(o.push({text:e.target.value,checked:!1}),l(o),a(),e.target.value="")}),n.addEventListener("click",function(){const e=o.every(e=>!0===e.checked);var t;t=!e,o.forEach(e=>{e.checked=t}),l(o),a()}),a()})();