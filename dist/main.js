(()=>{const e=document.querySelector(".todo__input"),t=document.querySelector(".todo__list"),c=document.querySelector(".todo__counter"),o=document.querySelector(".todo__toggle-all"),n=document.querySelector(".todo__actions"),l=document.querySelector(".todo__btn--clear"),d=document.querySelector(".todo__btn--all"),r=document.querySelector(".todo__btn--active"),a=document.querySelector(".todo__btn--completed");let i=k()?k():[],s="all";function u(e){let t=JSON.stringify(e);localStorage.setItem("todos",t)}function k(){let e=localStorage.getItem("todos");return JSON.parse(e)}function m(){t.innerHTML="",("active"===s?i.filter(e=>!1===e.checked):"completed"===s?i.filter(e=>!0===e.checked):i).forEach((e,c)=>{let o=document.createElement("li");o.className="todo__item",e.checked&&o.classList.add("checked"),o.textContent=e.text;let n=document.createElement("span");n.textContent="×",n.className="delete__item",n.addEventListener("click",()=>{i.splice(c,1),u(i),m()});let l=document.createElement("span");l.className="check__btn",e.checked&&(l.classList.add("checked"),l.textContent="✔"),l.addEventListener("click",()=>{e.checked=!e.checked,u(i),m()}),o.appendChild(l),o.appendChild(n),t.appendChild(o)}),i.length>=1?(h(o,"block"),h(n,"flex")):(_(o,"block"),_(n,"flex")),isShow=i.some(e=>!0===e.checked),isShow?h(l,"block"):_(l,"block"),function(){let e=i.filter(e=>!0!==e.checked).length;c.textContent=e}()}function h(e,t){e.classList.add(`${t}`)}function _(e,t){e.classList.remove(`${t}`)}e.addEventListener("keydown",e=>{if("Enter"===e.key){if(""==e.target.value.trim())return;i.push({text:e.target.value,checked:!1}),u(i),m(),e.target.value=""}}),o.addEventListener("click",function(){const e=i.every(e=>!0===e.checked);var t;t=!e,i.forEach(e=>{e.checked=t}),u(i),m()}),l.addEventListener("click",()=>{i=i.filter(e=>!1===e.checked),u(i),m()}),d.addEventListener("click",()=>{s="all",m()}),r.addEventListener("click",()=>{s="active",m()}),a.addEventListener("click",()=>{s="completed",m()}),m()})();